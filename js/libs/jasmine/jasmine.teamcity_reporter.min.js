(function(){if(!jasmine){throw new Exception("jasmine library does not exist in global namespace!")}var a=function(){this.started=false;this.finished=false};a.prototype={reportRunnerResults:function(e){},reportRunnerStarting:function(e){},reportSpecResults:function(e){},reportSpecStarting:function(e){},reportSuiteResults:function(h){var g=h.results();var l=[];while(h){l.unshift(h.description);h=h.parentSuite}var k=l.join(" ");this.log("##teamcity[testSuiteStarted name='"+this.escapeTeamcityString(k)+"']");var m=this;var j=function(o){if(o.description){m.log("##teamcity[testStarted name='"+m.escapeTeamcityString(o.description)+"' captureStandardOutput='true']");var i=function(q){if(!q.passed_){m.log("##teamcity[testFailed name='"+m.escapeTeamcityString(o.description)+"' message='|[FAILED|]' details='"+m.escapeTeamcityString(q.trace.stack)+"']")}};for(var p=0,n=o.items_.length;p<n;p++){i(o.items_[p])}m.log("##teamcity[testFinished name='"+m.escapeTeamcityString(o.description)+"']")}};for(var f=0,e=g.items_.length;f<e;f++){j(g.items_[f])}this.log("##teamcity[testSuiteFinished name='"+m.escapeTeamcityString(k)+"']")},log:function(f){var e=jasmine.getGlobal().console;if(e&&e.log){e.log(f)}},hasGroupedConsole:function(){var e=jasmine.getGlobal().console;return e&&e.info&&e.warn&&e.group&&e.groupEnd&&e.groupCollapsed},escapeTeamcityString:function(e){if(!e){return""}return e.replace(/\|/g,"||").replace(/\'/g,"|'").replace(/\n/g,"|n").replace(/\r/g,"|r").replace(/\u0085/g,"|x").replace(/\u2028/g,"|l").replace(/\u2029/g,"|p").replace(/\[/g,"|[").replace(/]/g,"|]")}};function d(g){console.group(g.description);var k=g.specs();for(var f in k){if(k.hasOwnProperty(f)){c(k[f])}}var h=g.suites();for(var e in h){if(h.hasOwnProperty(e)){d(h[e])}}console.groupEnd()}function c(g){var h=g.results();if(h.passed()&&console.groupCollapsed){console.groupCollapsed(g.description)}else{console.group(g.description)}var f=h.getItems();for(var e in f){if(f.hasOwnProperty(e)){b(f[e])}}console.groupEnd()}function b(e){if(e.passed&&!e.passed()){console.warn({actual:e.actual,expected:e.expected});e.trace.message=e.matcherName;console.error(e.trace)}else{console.info("Passed")}}jasmine.TeamcityReporter=a})();